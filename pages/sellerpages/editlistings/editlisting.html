<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Listing</title>
    <!-- Google Fonts & Tailwind CSS -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom CSS (optional) -->
    <link rel="stylesheet" href="../addnewlisting/addnewlisting.css" />
    <!-- SweetAlert2 for notifications -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Our module scripts -->
    <script type="module" src="./editlisting.js"></script>
    <script type="module" src="./helper.js"></script>
    <script type="module" src="./editui.js"></script>
  </head>
  <body class="bg-gray-50">
    <div class="content-container max-w-3xl mx-auto p-6">
      <form id="product-edit-form" class="upload-form bg-white p-6 rounded-md shadow-md">
        <h3 class="text-2xl font-semibold text-[var(--primary-color)] mb-4">Edit Product</h3>
        <div class="form-group mb-4">
          <label for="product-name" class="block mb-1 font-medium">Product Name</label>
          <input type="text" id="product-name" class="w-full p-2 border rounded" required />
        </div>
        <div class="form-group mb-4 grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label for="product-price" class="block mb-1 font-medium">Price</label>
            <input type="number" id="product-price" step="0.01" class="w-full p-2 border rounded" required />
          </div>
          <div>
            <label for="product-sale-price" class="block mb-1 font-medium">Sale Price (Optional)</label>
            <input type="number" id="product-sale-price" step="0.01" class="w-full p-2 border rounded" />
          </div>
        </div>
        <div class="form-group mb-4 grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label for="product-quantity" class="block mb-1 font-medium">Quantity</label>
            <input type="number" id="product-quantity" class="w-full p-2 border rounded" required />
          </div>
          <div>
            <label for="product-description" class="block mb-1 font-medium">Description</label>
            <textarea id="product-description" class="w-full p-2 border rounded" required></textarea>
          </div>
        </div>
        <div class="form-group mb-4 grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label for="product-category" class="block mb-1 font-medium">Category</label>
            <select id="product-category" class="w-full p-2 border rounded" required>
              <option value="">Select Category</option>
              <!-- Options populated via script -->
            </select>
          </div>
          <div>
            <label for="product-subcategory" class="block mb-1 font-medium">Subcategory</label>
            <select id="product-subcategory" class="w-full p-2 border rounded" disabled required>
              <option value="">Select Subcategory</option>
            </select>
          </div>
        </div>
        <div class="form-group mb-4">
          <label class="block mb-1 font-medium">Main Image</label>
          <input type="file" id="main-image" accept="image/*" class="w-full" />
          <div id="main-image-preview" style="margin-top: 0.5rem; display: none;">
            <img id="main-image-preview-img" style="max-width: 100%; border: 1px solid var(--border-color); border-radius: 4px;" />
          </div>
        </div>
        <div class="form-group mb-4">
          <label class="block mb-1 font-medium">Additional Images (Max 4)</label>
          <input type="file" id="additional-images" accept="image/*" multiple class="w-full" />
          <div id="additional-images-preview" style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 0.5rem;"></div>
        </div>
        <div class="form-group mb-4">
          <label class="block mb-1 font-medium">Attributes</label>
          <div id="attribute-buttons" class="attribute-buttons mb-2"></div>
          <div id="selected-attributes" class="selected-attributes"></div>
        </div>
        <div class="form-group mb-4">
          <label class="block mb-1 font-medium">Tags</label>
          <div class="tags-input-container">
            <input type="text" id="product-tag" placeholder="Enter tag and press Enter" class="w-full p-2 border rounded" />
          </div>
          <div id="tags-container" class="tags-container mt-2"></div>
        </div>
        <button type="submit" class="submit-btn bg-[var(--primary-color)] text-white py-2 px-4 rounded">Update Product</button>
      </form>
    </div>
  </body>
</html>
