<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MarketPlace</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
    <link rel="stylesheet" href="../src/assets/styles/global.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <script type="module" src="main.js"></script>
  </head>
  <body>
   <header>
  <div class="header-container">
    <div class="logo">
      <a href="index.html">MyStore</a>
    </div>
    <div class="search-bar">
      <input type="text" placeholder="Search for products..." id="searchInput" />
      <button id="searchBtn">Search</button>
    </div>
    <div class="user-menu">
      <a href="../src/pages/account/account.html" class="sixty-nine account-link"
        ><i class="fas fa-user"></i
      ></a>
      <div class="seventy-one">
        <a href="../src/pages/wishlist/wishlist.html" class="sixty-nine"
          ><i class="fas fa-heart"></i
        ></a>
        <a href="../src/pages/Cart/Cart.html" class="sixty-nine"
          ><i class="fas fa-shopping-cart"></i
        ></a>
      </div>
      <a href="../src/pages/SignUp/SignUp.html" class="seventy signup-link">Signup</a>
      <a href="../src/pages/Login/Login.html" class="seventy login-link">Login</a>
      <a href="#" class="seventy logout-btn" style="display: none;">Logout</a>
    </div>
  </div>
</header>


    <!-- Hero -->
    <section class="hero">
      <div class="hero-content">
        <div class="heroleft">
          <h2>NEW ARRIVALS</h2>
          <h1>DENIM JACKETS</h1>
          <p>
            MR.MINTZ Collection offers a wide range of products from casual wear
            to high-end fashion. Our products are made from the finest materials
            and designed to be both stylish and comfortable.
          </p>
          <div>
            <button
              onclick="window.location.href='./src/Discover/discover.html'"
            >
              DISCOVER
            </button>
            <button onclick="window.location.href='./src/pages/Cart/Cart.html'">
              ADD TO CART
            </button>
          </div>
        </div>
        <div class="heroright">
          <div class="offer-sign">50% OFF</div>
        </div>
      </div>
    </section>

    <!-- Featured Products Section -->
    <div class="seventythree">
      <div class="seventyfour">
        <h1>Featured Products</h1>
      </div>
      <div class="seventyfive">

      </div>
    </div>
    <div class="seventyfive"></div>

    <!-- Electronics Hero Section with Fixed Background -->
    <section
      class="seventytwo"
      style="background-image: url('../src/assets/images/new/backthree.jpg')"
    >
      <div class="content">
        <h2 class="text-4xl font-bold mb-4">Explore the Latest Electronics</h2>
        <p class="text-lg mb-8">
          Discover cutting-edge technology and innovative electronics that make
          your life easier and more enjoyable. From the latest smartphones to
          high-performance laptops, we have everything you need.
        </p>
      </div>
    </section>
  

    <!-- Clothings Hero Section with Fixed Background -->
    <section
      class="seventytwo"
      style="background-image: url('../src/assets/images/new/backclothes.jpg')"
    >
      <div class="content">
        <h2 class="text-4xl font-bold mb-4">Explore the Latest Clothings</h2>
        <p class="text-lg mb-8">
          Discover the latest trends in fashion and find your perfect outfit.
          From casual wear to formal attire, we have everything you need to look
          your best.
        </p>
      </div>
    </section>


    <!-- Football Hero Section with Fixed Background -->
    <section
      class="seventytwo"
      style="background-image: url('../src/assets/images/new/backtwo.jpg')"
    >
      <div class="content">
        <h2 class="text-4xl font-bold mb-4">
          Explore the Latest Football Gear
        </h2>
        <p class="text-lg mb-8">
          Get ready for the game with our top-quality football gear. From
          jerseys to boots, we have everything you need to perform your best on
          the field.
        </p>
      </div>
    </section>


    <!-- Phones and Accessories Hero Section with Fixed Background -->
    <section
      class="seventytwo"
      style="background-image: url('../src/assets/images/new/backphone.jpg')"
    >
      <div class="content">
        <h2 class="text-4xl font-bold mb-4">
          Explore the Latest Phones and Accessories
        </h2>
        <p class="text-lg mb-8">
          Stay connected with the latest smartphones and accessories. From
          high-performance phones to stylish cases, we have everything you need
          to stay ahead.
        </p>
      </div>
    </section>

    <footer class="fortyfive">
      <div class="fortysix">
        <div class="fortyseven">
          <h2 class="fortyeight">SUBSCRIBE TO OUR NEWSLETTER</h2>
          <p class="fortynine">
            Get the latest updates on new products and upcoming sales
          </p>
          <div class="fifty">
            <input
              type="email"
              class="fiftyone"
              placeholder="enter your email address"
            />
            <button class="fiftytwo">Submit</button>
          </div>
        </div>
        <div class="fiftythree">
          <div>
            <h3 class="fiftyfour">SHOP</h3>
            <ul>
              <li class="fiftyfive"><a href="#">Electronics</a></li>
              <li class="fiftyfive"><a href="#">Computers & Laptops</a></li>
              <li class="fiftyfive"><a href="#">Smartphones & Tablets</a></li>
              <li class="fiftyfive"><a href="#">Cameras</a></li>
              <li class="fiftyfive"><a href="#">Video Games & Systems</a></li>
              <li class="fiftyfive"><a href="#">Home Furniture</a></li>
              <li class="fiftyfive"><a href="#">Weekly Special</a></li>
            </ul>
          </div>
          <div>
            <h3 class="fiftyfour">FURTHER INFO.</h3>
            <ul>
              <li class="fiftyfive"><a href="#">About</a></li>
              <li class="fiftyfive"><a href="#">Blog</a></li>
            </ul>
          </div>
          <div>
            <h3 class="fiftyfour">CUSTOMER SERVICE</h3>
            <ul>
              <li class="fiftyfive"><a href="#">Search Terms</a></li>
              <li class="fiftyfive"><a href="#">Advanced Search</a></li>
              <li class="fiftyfive"><a href="#">Orders And Returns</a></li>
              <li class="fiftyfive"><a href="#">Contact Us</a></li>
              <li class="fiftyfive"><a href="#">Theme FAQs</a></li>
              <li class="fiftyfive"><a href="#">Consultant</a></li>
              <li class="fiftyfive"><a href="#">Store Locations</a></li>
            </ul>
          </div>
          <div>
            <h3 class="fiftyfour">ellamart+</h3>
            <address class="not-italic mb-4">
              <p class="fiftysix">
                <i class="fas fa-map-marker-alt"></i> 685 Market Street<br />San
                Francisco, CA 94105, US
              </p>
              <p class="fiftysix">
                <i class="fas fa-phone-alt"></i> Call us at (415) 555-5555
              </p>
              <p class="fiftysix">
                <i class="fas fa-envelope"></i> example@domain.com
              </p>
            </address>
            <div class="fiftyseven">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-pinterest"></i></a>
              <a href="#"><i class="fab fa-snapchat"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
            </div>
          </div>
        </div>
        <div class="fiftyeight">
          <p>Â© 2024, Ella Demo. All Rights Reserved. Themes By Halothemes</p>
          <div class="fiftynine">
            <img
              src="https://storage.googleapis.com/a1aa/image/ZHUCXZrD_8n3yvW9Oh7NIhaDreV5g9omXq2r8vmO2Qk.jpg"
              alt="Visa logo"
            />
            <img
              src="https://storage.googleapis.com/a1aa/image/JBDMLccUT9PhrsbwMUmCDApDx-ct22dBQut5qreuY_8.jpg"
              alt="American Express logo"
            />
            <img
              src="https://storage.googleapis.com/a1aa/image/L9Yb6YQ83OJOQrWOv6Uee9C2KtVLp4gTWrp-us6lONM.jpg"
              alt="Apple Pay logo"
            />
            <img
              src="https://storage.googleapis.com/a1aa/image/sDfWHOITQKMRcoPduz-ATS_9EJhJvVD3RH0uQDtaNy0.jpg"
              alt="Discover logo"
            />
            <img
              src="https://storage.googleapis.com/a1aa/image/IeD7Ozi_XM7Fdmx0wznj4vtefnPN27_zP_E11gDpwB0.jpg"
              alt="PayPal logo"
            />
            <img
              src="https://storage.googleapis.com/a1aa/image/knRsvBVALZ-Goep1VeDb1Tr2G5n3w5U_kKPv42LOeLM.jpg"
              alt="Shopify logo"
            />
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
























import { auth } from "../src/database/config.js";
import { db } from "../src/database/config.js"; // Import Firestore

import {
  onAuthStateChanged,
  signOut,
} from "https://www.gstatic.com/firebasejs/11.3.1/firebase-auth.js";

import {
  collection,
  getDocs,
} from "https://www.gstatic.com/firebasejs/11.3.1/firebase-firestore.js";


async function testFirestore() {
  try {
    const querySnapshot = await getDocs(collection(db, "items"));
    console.log(
      "Firestore is connected! Found",
      querySnapshot.size,
      "items."
    );
  } catch (error) {
    console.error("Firestore Connection Error:", error);
  }
}

testFirestore();

async function fetchProducts() {
  const productsContainer = document.querySelector(".seventyfive");
  if (!productsContainer) {
    console.error("Products container not found in HTML.");
    return;
  }
  productsContainer.innerHTML = ""; // Clear previous content

  try {
    const querySnapshot = await getDocs(collection(db, "items"));

    if (querySnapshot.empty) {
      console.warn("No items found in Firestore.");
      productsContainer.innerHTML = "<p>No items available.</p>";
      return;
    }

    querySnapshot.forEach((doc) => {
      const product = doc.data();
      console.log("Product fetched:", product); // Debugging output

      // Create product card
      const productCard = document.createElement("div");
      productCard.classList.add("seventysix");
      productCard.innerHTML = `
        <div class="relative">
          <img src="${product.imageURL || "default.jpg"}" alt="${product.name}">
        </div>
        <p>${product.name}</p>
        <p class="new-price">$${
          product.price ? product.price.toFixed(2) : "N/A"
        }</p>
        <button class="buthov" onclick="addToCart('${doc.id}')">Buy Now</button>
      `;

      productsContainer.appendChild(productCard);
    });
  } catch (error) {
    console.error("Error fetching items:", error);
  }
}

// Call function on page load
document.addEventListener("DOMContentLoaded", () => {
  fetchProducts();
});

document.addEventListener("DOMContentLoaded", () => {
  const loginLink = document.querySelector(".login-link");
  const signupLink = document.querySelector(".signup-link");
  const accountLink = document.querySelector(".account-link");
  const logoutBtn = document.querySelector(".logout-btn");
  const cartIcon = document.querySelector(".fa-shopping-cart").parentElement;
  const wishlistIcon = document.querySelector(".fa-heart").parentElement;

  onAuthStateChanged(auth, (user) => {
    if (user) {
      // User is logged in
      loginLink.style.display = "none";
      signupLink.style.display = "none";
      accountLink.style.display = "block";
      logoutBtn.style.display = "block";

      // Allow normal navigation
      cartIcon.addEventListener("click", () => {
        window.location.href = "../src/pages/Cart/Cart.html";
      });

      wishlistIcon.addEventListener("click", () => {
        window.location.href = "../src/pages/wishlist/wishlist.html";
      });
    } else {
      // User is logged out
      loginLink.style.display = "block";
      signupLink.style.display = "block";
      accountLink.style.display = "none";
      logoutBtn.style.display = "none";

      // Redirect to login when clicking cart or wishlist
      cartIcon.addEventListener("click", (e) => {
        e.preventDefault();
        window.location.href = "../src/pages/Login/Login.html";
      });

      wishlistIcon.addEventListener("click", (e) => {
        e.preventDefault();
        window.location.href = "../src/pages/Login/Login.html";
      });
    }
  });

  // Logout functionality
  logoutBtn.addEventListener("click", (e) => {
    e.preventDefault();
    signOut(auth)
      .then(() => {
        location.reload();
      })
      .catch((error) => {
        console.error("Logout Error:", error);
      });
  });
});